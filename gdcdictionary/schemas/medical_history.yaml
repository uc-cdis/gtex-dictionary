$schema: "http://json-schema.org/draft-04/schema#"

id: "medical_history"
title: Medical History
type: object
namespace: http://dcp.bionimbus.org/
category: clinical
program: '*'
project: '*'
description: >
  Standard questionnaire used to collect medical records from the subject
additionalProperties: false
submittable: true
validators: null

systemProperties:
  - id
  - project_id
  - state
  - created_datetime
  - updated_datetime

links:
  - name: cases
    backref: medical_histories
    label: describes
    target_type: case
    multiplicity: one_to_one
    required: true

uniqueKeys:
  - [id]
  - [project_id, submitter_id]

required:
  - submitter_id
  - type
  - cases

properties:
  $ref: "_definitions.yaml#/ubiquitous_properties"


# HARMONIZED VARIABLES ACROSS GTEX AND TOPMED PROJECTS
  asthma:
    description: >
      Reported Asthma condition in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  diabetes:
    description: >
      Reported Diabetes in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  type1_diabetes:
    description: >
      Reported Type-1 Diabetes in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  type2_diabetes:
    description: >
      Reported Type-2 Diabetes in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  hypertension:
    description: >
      Reported Hypertension condition in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  hyperlipidemia:
    description: >
      Reported Hypertension condition in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  cerebrovascular_disease:
    description: >
      Reported Cerebrovascular disease in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  stroke:
    description: >
      Reported Stroke in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  copd:
    description: >
      Reported Chronic Obstructive Pulmonary Disease (COPD) in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  emphysema:
    description: >
      Reported Emphysema in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  chronic_respiratory_disease:
    description: >
      Reported Chronic Respiratory disease in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  coronary_artery_disease:
    description: >
      Reported Coronary Artery disease in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  heart_failure:
    description: >
      Reported Heart failure in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  myocardial_infarction:
    description: >
      Reported Myocardial Infarction in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

  cabg_presence:
    description: >
      Reported presence of coronary artery bypass graft (CABG) in the participant (HARMONIZED)
    enum:
        - "Yes"
        - "No"
        - "Not reported"
        - "Unknown"

# OTHER NON HARMONIZED VARIABLES FROM GTEX AND TOPMED
  arthritis:
    description: >
      Arthritis: self-report
    type: boolean

  cancer:
    description: >
      Cancer: self-report
    type: boolean

  chdh:
    description: >
      Coronary Heart Disease (CHD) Hard
    type: boolean

  chdh_time:
    description: >
      Time to hard CHD or Last Follow-up in days
    type: integer

  chda:
    description: >
      Coronary Heart Disease (CHD), All
    type: boolean

  chda_time:
    description: >
      Time to all CHD or Lat Follow-up in days
    type: integer

  cvdh:
    description: >
      Cardiovascular disease (CVD), Hard
    type: boolean

  cvdh_time:
    description: >
      Time to hard CVD or Last Follow-up in days
    type: integer

  cvda:
    description: >
      Cardiovascular disease (CVD), All
    type: boolean

  cvda_time:
    description: >
      Time to all CVD or Last Follow-up in days
    type: integer

  prostate_cancer:
    description: >
      Prostate cancer
    type: boolean

  breast_cancer:
    description: >
      Breast cancer
    type: boolean

  lung_cancer:
    description: >
      Lung cancer
    type: boolean

  colon_cancer:
    description: >
      Colon cancer
    type: boolean

  non_melanoma_skin_cancer:
    description: >
      Non-melanoma skin cancer
    type: boolean

  blood_cancer:
    description: >
      Blood cancer
    type: boolean

  other_cancer:
    description: >
      Other cancer
    type: boolean

  rheumatic_heart_disease:
    description: >
      Rheumatic heart disease: self-report
    type: boolean

  blood_clots:
    description: >
      Blood clots in legs/lungs: self-report
    type: boolean

  liver_disease:
    description: >
      Liver disease: self-report
    type: boolean

  cirrhosis:
    description: >
      Cirrhosis: self-report
    type: boolean

  hepatitis:
    description: >
      Hepatitis: self-report
    type: boolean

  typea_hepatitis:
    description: >
      Hepatitis, type a
    type: boolean

  typeb_hepatitis:
    description: >
      Hepatitis, type b
    type: boolean

  typec_hepatitis:
    description: >
      Hepatitis, type c
    type: boolean

  typed_hepatitis:
    description: >
      Hepatitis, type d
    type: boolean

  typee_hepatitis:
    description: >
      Hepatitis, type e
    type: boolean

  unknown_type_hepatitis:
    description: >
      Hepatitis, unknown type
    enum:
      - "NO HEPATITIS OR TYPE KNOWN"
      - "TYPE UNKNOWN"

  kidney_disease:
    description: >
      Kidney disease: self-report
    type: boolean

  pregnancy_diabetes:
    description: >
      Women: diabetes occur only during pregnancy
    type: boolean

  highest_weight_3years:
    description: >
      Highest weight in last 3 years (lbs)
    type: number

  weight_at_20age:
    description: >
      Weight at age 20 (lbs)
    type: number

  weight_at_40age:
    description: >
      Weight at age 40 (lbs)
    type: number

  ever_pregnant:
    description: >
      Ever been pregnant
    type: boolean

  pregnancies_number:
    description: >
      # of pregnancies
    type: number

  births_number:
    description: >
      # of live births
    type: number

  first_birth_age:
    description: >
      Age at first live birth
    type: number

  hysterectomy:
    description: >
      Hysterectomy
    type: boolean

  hysterectomy_age:
    description: >
      Age at hysterectomy in years. If age is greater than 89, see 'hysterectomy_age_gt89'.
    type: number
    maximum: 89
    minimum: 0

  hysterectomy_age_gt89:
    description: >
      Indicate whether Age at hysterectomy in years is greater than 89.
    enum:
      - "Yes"
      - "No"

  ovaries_surgery:
    description: >
      Surgery to remove ovaries
    type: boolean

  ovaries_removal_age:
    description: >
      Age when ovaries removed. If age is greater than 89, see 'ovaries_removal_age_gt89'.
    type: number
    maximum: 89
    minimum: 0

  ovaries_removal_age_gt89:
    description: >
      Indicate whether the Age when ovaries removed is greater than 89.
    enum:
      - "Yes"
      - "No"

  removed_ovaries_number:
    description: >
      # of ovaries removed
    enum:
      - "1 OVARY REMOVED"
      - "2 OVARIES REMOVED"

  menopause:
    description: >
      Gone through menopause
    type: boolean

  current_menopause:
    description: >
      Currently going through menopause
    type: boolean

  last_menstrual_month:
    description: >
      Month of last menstrual period
    type: number

  last_menstrual_year:
    description: >
      Year of last menstrual period
    type: number

  menstrual_number:
    description: >
      # of menstrual periods in past 12 months
    type: number

  menopause_age:
    description: >
      Age went through menopause
    type: number

  hormone_therapy_stop_year:
    description: >
      Hormone replacement therapy, age stopped use. If age is greater than 89, see 'hormone_therapy_stop_year_gt89'.
    type: number
    maximum: 89
    minimum: 0

  hormone_therapy_stop_year_gt89:
    description: >
      Indicate whether age stopped Hormone replacement therapy is greater than 89.
    enum:
      - "Yes"
      - "No"

  hormone_therapy_type:
    description: >
      Type of hormone replacement therapy
    enum:
      - "ESTROGEN ALONE"
      - "ESTROGEN WITH PROGESTIN"

  feet_swelling:
    description: >
      Swelling of feet or ankles
    type: boolean

  day_feet_swelling:
    description: >
      Feet swelling during day, diminished overnight
    type: boolean

  pillows_sleep:
    description: >
      Sleep on two or more pillows to help breathe
    type: boolean

  night_breath_trouble:
    description: >
      Awakened at night by trouble breathing
    type: boolean

  fever_2weeks:
    description: >
      Fever, past two weeks
    type: boolean

  cold_2weeks:
    description: >
      Cold or flu, past two weeks
    type: boolean

  urinary_infection_2weeks:
    description: >
      Urinary infection, past two weeks
    type: boolean

  allergy_2weeks:
    description: >
      Seasonal allergy, past two weeks
    type: boolean

  bronchitis_2weeks:
    description: >
      Bronchitis, past two weeks
    type: boolean

  sinus_infection_2weeks:
    description: >
      Sinus infection, past two weeks
    type: boolean

  pneumonia_2weeks:
    description: >
      Pneumonia, past two weeks
    type: boolean

  bleeding_gums_2weeks:
    description: >
      Bleeding gums, past two weeks
    type: boolean

  tooth_infection_2weeks:
    description: >
      Tooth infection, past two weeks
    type: boolean

  gout_2weeks:
    description: >
      Gout flare-up, past two weeks
    type: boolean

  arthritis_2weeks:
    description: >
      Arthritis flare-up, past two weeks
    type: boolean

  antibiotics_treatment_number_last_year:
    description: >
      # of times treated w/ antibiotics, past year
    type: number

  antibiotics_treatment_unknown_last_year:
    description: >
      # of times treated w/ antibiotics (past year) unknown
    enum:
      - "# TIMES UNKNOWN"

  antibiotics_treatment_number_5years:
    description: >
      # of times treated w/ antibiotics, last five years
    type: number

  antibiotics_treatment_unknown_5years:
    description: >
      # of times treated w/ antibiotics (past 5 years) unknown
    enum:
      - "# TIMES UNKNOWN"

  periodontitis:
    description: >
      Periodontitis or gum disease
    type: boolean

  periodontitis_teeth_lost:
    description: >
      Lost teeth due to gum disease
    type: boolean

  periodontitis_teeth_lost_number:
    description: >
      # teeth lost due to gum disease
    type: number

  questionnaire_administrator:
    description: >
      Questionnaire administrator - medical history
    enum:
      - "SELF-ADMIN"
      - "INTERVIEWER-ADMIN"

  ncep_chd_risk_10years:
    description: >
      10 yr hard chd risk--ncep version
    type: number

  jama_chd_risk_10years:
    description: >
      10yr hard chd risk per jama 2001 paper
    type: number

  circ_chd_risk_10years:
    description: >
      10yr hard chd risk per circ 1998 paper
    type: number

  framingham_global_cvd_risk:
    description: >
      Framingham global cvd risk per circ 2008 paper
    type: number

  glomerular_filtration_rate:
    description: >
      Estimated glomerular filtration rate by simplified mdrd equation
    type: number

  calibrated_cr:
    description: >
      Exam 1 (calibrated cr) egfr using ckd-epi equation
    type: number

  cases:
    $ref: "_definitions.yaml#/to_one"
