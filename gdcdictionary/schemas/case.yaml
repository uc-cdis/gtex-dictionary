$schema: "http://json-schema.org/draft-04/schema#"

id: "case"
title: Case
type: object
namespace: https://dcp.bionimbus.org/
category: administrative
program: '*'
project: '*'
description: >
  The collection of all data related to a specific subject in the
  context of a specific experiment. 
additionalProperties: false
submittable: true
validators: null

systemProperties:
  - id
  - project_id
  - created_datetime
  - updated_datetime
  - state

links:
  - name: studies 
    backref: cases
    label: member_of
    target_type: study
    multiplicity: many_to_many
    required: true

required:
  - type
  - submitter_id
  - studies 

uniqueKeys:
  - [id]
  - [project_id, submitter_id]

# Case properties
properties:
  $ref: "_definitions.yaml#/ubiquitous_properties"

  amputation_type:
    description: >
      If amputated, the amputation type for leg, above the knee or below the knee. Â  
    type: string

  site:
    description: >
      "Site where the case was recruted.
      ARIC_A=field center A representing one of four anonymized centers (Forsyth County, NC, USA; Jackson, MS, USA; the northwest suburbs of Minneapolis, MN, USA; and Washington County, MD, USA) where baseline exam was conducted for ARIC (Atherosclerosis Risk in Communities),
      ARIC_B=field center B representing one of four anonymized centers (Forsyth County, NC, USA; Jackson, MS, USA; the northwest suburbs of Minneapolis, MN, USA; and Washington County, MD, USA) where baseline exam was conducted for ARIC (Atherosclerosis Risk in Communities),
      ARIC_C=field center C representing one of four anonymized centers (Forsyth County, NC, USA; Jackson, MS, USA; the northwest suburbs of Minneapolis, MN, USA; and Washington County, MD, USA) where baseline exam was conducted for ARIC (Atherosclerosis Risk in Communities),
      ARIC_D=field center D representing one of four anonymized centers (Forsyth County, NC, USA; Jackson, MS, USA; the northwest suburbs of Minneapolis, MN, USA; and Washington County, MD, USA) where baseline exam was conducted for ARIC (Atherosclerosis Risk in Communities),
      CARDIA_1=field center 1 representing one of four anonymized field centers (University of Alabama, Birmingham, AL, USA; Northwestern University, IL, USA; University of Minnesota, MN, USA; Kaiser Foundation Research Institute, Oakland, CA, USA) for subjects in the CARE project within CARDIA (Coronary Artery Risk Development in Young Adults),
      CARDIA_2=field center 2 representing one of four anonymized field centers (University of Alabama, Birmingham, AL, USA; Northwestern University, IL, USA; University of Minnesota, MN, USA; Kaiser Foundation Research Institute, Oakland, CA, USA) for subjects in the CARE project within CARDIA (Coronary Artery Risk Development in Young Adults),
      CARDIA_3=field center 3 representing one of four anonymized field centers (University of Alabama, Birmingham, AL, USA; Northwestern University, IL, USA; University of Minnesota, MN, USA; Kaiser Foundation Research Institute, Oakland, CA, USA) for subjects in the CARE project within CARDIA (Coronary Artery Risk Development in Young Adults),
      CARDIA_4=field center 4 representing one of four anonymized field centers (University of Alabama, Birmingham, AL, USA; Northwestern University, IL, USA; University of Minnesota, MN, USA; Kaiser Foundation Research Institute, Oakland, CA, USA) for subjects in the CARE project within CARDIA (Coronary Artery Risk Development in Young Adults),
      CHS_BOWMAN.GRAY=clinic at Bowman Gray University (Forsyth County, NC, USA) for CHS (Cardiovascular Health Study),
      CHS_DAVIS=clinic at Davis University (Sacramento County, CA, USA) for CHS (Cardiovascular Health Study),
      CHS_HOPKINS=clinic at Johns Hopkins University (Washington County, MD, USA) for CHS (Cardiovascular Health Study),
      CHS_PITT=clinic at University of Pittsburgh (Pittsburgh, PA, USA) for CHS (Cardiovascular Health Study),
      COPDGene_C01=clinical center C01 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C02=clinical center C02 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C03=clinical center C03 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C04=clinical center C04 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C05=clinical center C05 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C06=clinical center C06 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C07=clinical center C07 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C08=clinical center C08 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C09=clinical center C09 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C10=clinical center C10 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C11=clinical center C11 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C12=clinical center C12 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C13=clinical center C13 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C14=clinical center C14 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C15=clinical center C15 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C16=clinical center C16 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C17=clinical center C17 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C18=clinical center C18 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C19=clinical center C19 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C20=clinical center C20 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      COPDGene_C21=clinical center C21 representing one of 21 de-identified clinical centers for COPDGene (Genetic Epidemiology of COPD),
      GENOA_MN=recruitment from Rochester, MN, US,
      GENOA_MS=recruitment from Jackson, MS, US,
      GOLDN_MN=recruitment center at Minneapolis, MN, USA for GOLDN (Genetics of Lipid Lowering Drugs and Diet Network Lipodemics Study),
      GOLDN_UT=recruitment center at Salt Lake City, UT, USA for GOLDN (Genetics of Lipid Lowering Drugs and Diet Network Lipodemics Study),
      HCHS_SOL_Bronx=recruitment center Bronx, NY, USA for HCHS/SOL (Hispanic Community Health Study/Study of Latinos),
      HCHS_SOL_Chicago=recruitment center Chicago, IL, USA for HCHS/SOL (Hispanic Community Health Study/Study of Latinos),
      HCHS_SOL_Miami=recruitment center Miami, FL, USA for HCHS/SOL (Hispanic Community Health Study/Study of Latinos),
      HCHS_SOL_SanDiego=recruitment center San Diego, CA, USA for HCHS/SOL (Hispanic Community Health Study/Study of Latinos),
      JHS_Hinds=recruitment from urban and rural areas of Hinds county, MS, USA for JHS (Jackson Heart Study),
      JHS_Madison=recruitment from urban and rural areas of Madison county, MS, USA for JHS (Jackson Heart Study),
      JHS_Rankin=recruitment from urban and rural areas of Rankin county, MS, USA for JHS (Jackson Heart Study),
      JHS_Unknown=recruitment from unknown county in MS, USA for JHS (Jackson Heart Study),
      Mayo_VTE_Midwest_US=state of residence (at time of enrollment for Mayo_VTE study) is in the South region of the USA as defined by the Census Bureau,
      Mayo_VTE_Northeast_US=state of residence (at time of enrollment for Mayo_VTE study) is in the Northeast region of the USA as defined by the Census Bureau,
      Mayo_VTE_non_US=state of residence (at time of enrollment for Mayo_VTE study) is from a country outside the USA,
      Mayo_VTE_South_US=state of residence (at time of enrollment for Mayo_VTE study) is in the Midwest region of the USA as defined by the Census Bureau,
      Mayo_VTE_West_US=state of residence (at time of enrollment for Mayo_VTE study) is in the West region of the USA as defined by the Census Bureau,
      MESA_COL=field center/baseline clinic at Columbia University, NY, USA for MESA (Multi-Ethnic Study of Atherosclerosis Cohort),
      MESA_JHU=field center/baseline clinic at Johns Hopkins University, MD, USA for MESA (Multi-Ethnic Study of Atherosclerosis Cohort),
      MESA_NWU=field center/baseline clinic at Northwestern University, IL, USA for MESA (Multi-Ethnic Study of Atherosclerosis Cohort),
      MESA_UCLA=field center/baseline clinic at University of California, Los Angeles, CA, USA for MESA (Multi-Ethnic Study of Atherosclerosis Cohort),
      MESA_UMN=field center/baseline clinic at University of Minnesota, MN, USA for MESA (Multi-Ethnic Study of Atherosclerosis Cohort),
      MESA_WFU=field center/baseline clinic at Wake Forest University, NC, USA for MESA (Multi-Ethnic Study of Atherosclerosis Cohort),
      SAS_Apia.urban=recruitment census region of Apia Urban Area in Samoa for SAS (Genome-wide Association Study of Adiposity in Samoans),
      SAS_NW.Upola=recruitment census region of Northwest Upola in Samoa for SAS (Genome-wide Association Study of Adiposity in Samoans),
      SAS_rest.Upola=recruitment census region including rest of Upola in Samoa for SAS (Genome-wide Association Study of Adiposity in Samoans),
      SAS_Savaii=recruitment census region of Savaii in Samoa for SAS (Genome-wide Association Study of Adiposity in Samoans),
      WHI_Midwest=recruitment from Midwest region of the USA for WHI (Womens Health Initiative),
      WHI_Northeast=recruitment from Northeast region of the USA for WHI (Womens Health Initiative),
      WHI_South=recruitment from South region of the USA for WHI (Womens Health Initiative),
      WHI_West=recruitment from West region of the USA for WHI (Womens Health Initiative)"
    type: string

  cohort_id:
    description: >
      The study subgroup that the participant belongs to. This indicates whether the participant was a postmortem donor, 
      an organ donor, or a surgical donor. Â  
    enum: 
      - Postmortem
      - Organ Donor (OPO)
      - Surgical Donor

  eligibility:
    description: >
      A verification field of whether the Donor has met the overall eligibility criteria for GTEx collection based on answers 
      to eligibility questions. All Eligibility conditions require confirmation from the donor procurement team (staff team where 
      tissue collection and data abstraction takes place) and must be met in order for donor to eligible. Â 
    type: boolean

  index_date:
    description: >
      "Indicates whether the time point reference begins at the donor's actual death, presumed death, 
      or when the cross clamp was applied in the case of surgical donors."
    enum:
      - Actual Death
      - Presumed Death
      - Cross Clamp
      - Study Enrollment
      - Diagnosis
      - First Patient Visit

  transplanted_organ:
    description: >
      If the Donor was an Organ Donor, which Organs were donated.
    type: string

  consent_codes:
    description: >
        Data Use Restrictions that are used to indicate  permissions/restrictions for datasets and/or materials, and relates to the purposes for which datasets and/or material might be removed, stored or used. \n
        Based on the Data Use Ontology : see http://www.obofoundry.org/ontology/duo.html \n
        GRU - For general research use for any research purpose. Example of usage: This includes but is not limited to: health/medical/biomedical purposes, fundamental biology research, the study of population origins or ancestry, statistical methods and algorithms development, and social-sciences research. \n
        HMB - Use of the data is limited to health/medical/biomedical purposes; does not include the study of population origins or ancestry. \n
        DS-X - Use of the data must be related to [disease]. \n
        NPU - Use of the data is limited to not-for-profit organizations and not-for-profit use, non-commercial use. \n
        IRB - Requestor must provide documentation of local IRB/REC approval.
    type: array
    items:
      type: string

  transplanted_organ:
    description: >
      If the Donor was an Organ Donor, which Organs were donated.
    type: string

  unit_site:
    description: >
      harmonization unit for site
    type: string

  studies:
    $ref: "_definitions.yaml#/to_many"
